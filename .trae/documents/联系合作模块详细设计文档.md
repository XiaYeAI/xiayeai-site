# 联系合作模块详细设计文档

## 1. 模块概述

联系合作模块为"夏叶的AI加油站"提供多种联系方式和合作机会展示，包括商务合作、技术咨询、媒体采访等不同类型的合作需求处理，同时提供便捷的联系表单和实时沟通功能。

## 2. 组件设计

### 2.1 组件结构

```
ContactPage.vue
├── ContactHero.vue          // 联系页面头部组件
├── ContactMethods.vue       // 联系方式组件
├── ContactForm.vue          // 联系表单组件
├── CooperationTypes.vue     // 合作类型组件
├── FAQ.vue                  // 常见问题组件
├── ResponseTime.vue         // 回复时间说明组件
└── SocialLinks.vue          // 社交媒体链接组件
```

### 2.2 组件详细设计

#### ContactHero.vue (联系页面头部组件)

```typescript
// 组件功能：展示联系页面的欢迎信息和核心价值主张
// 创建日期：2024-12-19
// 参数：heroData - 头部展示数据
// 返回值：Vue组件

interface ContactHeroProps {
  heroData: ContactHeroData;
  showAnimation?: boolean;
}

interface ContactHeroData {
  title: string;               // 主标题
  subtitle: string;            // 副标题
  description: string;         // 描述文本
  backgroundImage?: string;    // 背景图片
  ctaText: string;            // 行动召唤文本
  highlights: string[];        // 亮点展示
}
```

#### ContactMethods.vue (联系方式组件)

```typescript
// 组件功能：展示多种联系方式和联系信息
// 创建日期：2024-12-19
// 参数：contactMethods - 联系方式数组
// 返回值：Vue组件

interface ContactMethodsProps {
  contactMethods: ContactMethod[];
  layout?: 'grid' | 'list';
}

interface ContactMethod {
  id: string;
  type: 'email' | 'wechat' | 'phone' | 'qq' | 'telegram';
  label: string;               // 联系方式标签
  value: string;               // 联系方式值
  icon: string;                // 图标
  description: string;         // 描述信息
  available: boolean;          // 是否可用
  responseTime: string;        // 预期回复时间
  preferredFor: string[];      // 适用场景
}
```

#### ContactForm.vue (联系表单组件)

```typescript
// 组件功能：提供在线联系表单，支持不同类型的咨询需求
// 创建日期：2024-12-19
// 参数：formConfig - 表单配置
// 返回值：Vue组件

interface ContactFormProps {
  formConfig: FormConfig;
  onSubmit: (data: ContactFormData) => Promise<void>;
}

interface FormConfig {
  fields: FormField[];         // 表单字段配置
  submitText: string;          // 提交按钮文本
  successMessage: string;      // 成功提示信息
  errorMessage: string;        // 错误提示信息
}

interface FormField {
  name: string;                // 字段名
  label: string;               // 字段标签
  type: 'text' | 'email' | 'tel' | 'textarea' | 'select';
  required: boolean;           // 是否必填
  placeholder: string;         // 占位符
  options?: SelectOption[];    // 选择项（select类型）
  validation?: ValidationRule; // 验证规则
}

interface ContactFormData {
  name: string;                // 姓名
  email: string;               // 邮箱
  phone?: string;              // 电话
  company?: string;            // 公司
  cooperationType: string;     // 合作类型
  subject: string;             // 主题
  message: string;             // 详细信息
  budget?: string;             // 预算范围
  timeline?: string;           // 项目时间
}
```

#### CooperationTypes.vue (合作类型组件)

```typescript
// 组件功能：展示不同类型的合作机会和服务内容
// 创建日期：2024-12-19
// 参数：cooperationTypes - 合作类型数组
// 返回值：Vue组件

interface CooperationTypesProps {
  cooperationTypes: CooperationType[];
  displayMode?: 'cards' | 'tabs';
}

interface CooperationType {
  id: string;
  title: string;               // 合作类型标题
  description: string;         // 详细描述
  icon: string;                // 图标
  services: string[];          // 提供的服务
  pricing: PricingInfo;        // 价格信息
  duration: string;            // 合作周期
  requirements: string[];      // 合作要求
  examples: string[];          // 案例展示
  available: boolean;          // 是否开放
}

interface PricingInfo {
  type: 'fixed' | 'hourly' | 'project' | 'negotiable';
  range: string;               // 价格范围
  currency: string;            // 货币单位
  note?: string;               // 价格说明
}
```

#### FAQ.vue (常见问题组件)

```typescript
// 组件功能：展示联系合作相关的常见问题和解答
// 创建日期：2024-12-19
// 参数：faqData - 常见问题数据
// 返回值：Vue组件

interface FAQProps {
  faqData: FAQItem[];
  searchable?: boolean;
  categorized?: boolean;
}

interface FAQItem {
  id: string;
  question: string;            // 问题
  answer: string;              // 答案
  category: string;            // 分类
  tags: string[];              // 标签
  helpful: number;             // 有用评分
  lastUpdated: string;         // 最后更新时间
}
```

## 3. 数据结构

### 3.1 页面数据结构

```typescript
// 联系合作页面完整数据结构
interface ContactPageData {
  heroData: ContactHeroData;
  contactMethods: ContactMethod[];
  cooperationTypes: CooperationType[];
  faqData: FAQItem[];
  socialLinks: SocialLink[];
  businessHours: BusinessHours;
  responsePolicy: ResponsePolicy;
}

// 社交媒体链接
interface SocialLink {
  id: string;
  platform: string;           // 平台名称
  url: string;                 // 链接地址
  icon: string;                // 图标
  followers?: number;          // 粉丝数
  active: boolean;             // 是否活跃
}

// 工作时间
interface BusinessHours {
  timezone: string;            // 时区
  weekdays: TimeRange;         // 工作日时间
  weekends: TimeRange;         // 周末时间
  holidays: string[];          // 节假日说明
}

interface TimeRange {
  start: string;               // 开始时间
  end: string;                 // 结束时间
  available: boolean;          // 是否可联系
}

// 回复政策
interface ResponsePolicy {
  email: string;               // 邮件回复时间
  wechat: string;              // 微信回复时间
  phone: string;               // 电话回复时间
  form: string;                // 表单回复时间
  emergency: string;           // 紧急情况处理
}

// 页面状态管理
interface ContactPageState {
  data: ContactPageData | null;
  loading: boolean;
  error: string | null;
  formSubmitting: boolean;
  formSuccess: boolean;
  selectedCooperationType: string | null;
}
```

### 3.2 表单验证规则

```typescript
// 表单验证规则定义
interface ValidationRule {
  required?: boolean;
  minLength?: number;
  maxLength?: number;
  pattern?: RegExp;
  custom?: (value: string) => boolean | string;
}

// 常用验证规则
const validationRules = {
  email: {
    required: true,
    pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
    message: '请输入有效的邮箱地址'
  },
  phone: {
    pattern: /^1[3-9]\d{9}$/,
    message: '请输入有效的手机号码'
  },
  name: {
    required: true,
    minLength: 2,
    maxLength: 20,
    message: '姓名长度应在2-20个字符之间'
  },
  message: {
    required: true,
    minLength: 10,
    maxLength: 1000,
    message: '消息内容应在10-1000个字符之间'
  }
};
```

## 4. API接口设计

### 4.1 获取联系页面数据

**接口地址：** `GET /api/contact`

**请求参数：** 无

**响应数据：**

```json
{
  "heroData": {
    "title": "让我们一起探索AI的无限可能",
    "subtitle": "期待与您的合作",
    "description": "无论是商务合作、技术咨询还是媒体采访，我都很乐意与您交流。让我们共同推动AI技术的发展与应用。",
    "ctaText": "立即联系",
    "highlights": ["专业AI技术咨询", "优质内容合作", "快速响应服务"]
  },
  "contactMethods": [
    {
      "id": "email",
      "type": "email",
      "label": "邮箱联系",
      "value": "contact@xiayeai.com",
      "icon": "email-icon.svg",
      "description": "商务合作和正式咨询的首选方式",
      "available": true,
      "responseTime": "24小时内回复",
      "preferredFor": ["商务合作", "技术咨询", "媒体采访"]
    },
    {
      "id": "wechat",
      "type": "wechat",
      "label": "微信联系",
      "value": "xiayeai2024",
      "icon": "wechat-icon.svg",
      "description": "日常交流和快速沟通",
      "available": true,
      "responseTime": "工作时间内2小时回复",
      "preferredFor": ["日常交流", "技术讨论", "内容合作"]
    }
  ],
  "cooperationTypes": [
    {
      "id": "content",
      "title": "内容合作",
      "description": "提供高质量的AI技术内容创作服务，包括文章撰写、视频制作、直播分享等。",
      "icon": "content-icon.svg",
      "services": ["技术文章撰写", "视频内容制作", "直播技术分享", "课程内容开发"],
      "pricing": {
        "type": "project",
        "range": "3000-15000元",
        "currency": "CNY",
        "note": "根据内容复杂度和工作量确定"
      },
      "duration": "1-4周",
      "requirements": ["明确的内容需求", "合理的制作周期", "专业的合作态度"],
      "examples": ["某科技公司AI产品介绍文章", "在线教育平台AI课程开发"],
      "available": true
    },
    {
      "id": "consulting",
      "title": "技术咨询",
      "description": "为企业和个人提供AI技术方案咨询、项目评估、技术选型等专业服务。",
      "icon": "consulting-icon.svg",
      "services": ["AI技术方案设计", "项目可行性评估", "技术选型建议", "团队培训指导"],
      "pricing": {
        "type": "hourly",
        "range": "500-1000元/小时",
        "currency": "CNY",
        "note": "根据咨询复杂度确定具体费率"
      },
      "duration": "按需安排",
      "requirements": ["清晰的咨询目标", "充分的背景信息", "合理的时间安排"],
      "examples": ["某制造企业AI转型咨询", "创业公司AI产品技术评估"],
      "available": true
    },
    {
      "id": "speaking",
      "title": "演讲分享",
      "description": "参与行业会议、企业培训、学术交流等活动，分享AI技术趋势和实践经验。",
      "icon": "speaking-icon.svg",
      "services": ["行业会议演讲", "企业内训分享", "学术交流报告", "在线直播讲座"],
      "pricing": {
        "type": "negotiable",
        "range": "面议",
        "currency": "CNY",
        "note": "根据活动规模和要求确定"
      },
      "duration": "1-3天",
      "requirements": ["明确的演讲主题", "合适的时间安排", "必要的技术支持"],
      "examples": ["AI技术大会主题演讲", "某大学AI课程客座讲座"],
      "available": true
    }
  ],
  "faqData": [
    {
      "id": "response-time",
      "question": "一般多长时间能收到回复？",
      "answer": "邮件咨询通常在24小时内回复，微信消息在工作时间内2小时内回复。紧急事务请在消息中注明。",
      "category": "联系方式",
      "tags": ["回复时间", "联系方式"],
      "helpful": 95,
      "lastUpdated": "2024-12-19"
    },
    {
      "id": "cooperation-process",
      "question": "合作流程是怎样的？",
      "answer": "1. 初步沟通需求 2. 制定合作方案 3. 签署合作协议 4. 项目执行 5. 成果交付 6. 后续支持",
      "category": "合作流程",
      "tags": ["合作流程", "项目管理"],
      "helpful": 88,
      "lastUpdated": "2024-12-19"
    },
    {
      "id": "pricing",
      "question": "如何确定合作费用？",
      "answer": "费用根据项目复杂度、工作量、时间要求等因素综合确定。我们会在初步沟通后提供详细的报价方案。",
      "category": "费用相关",
      "tags": ["费用", "报价"],
      "helpful": 92,
      "lastUpdated": "2024-12-19"
    }
  ],
  "socialLinks": [
    {
      "id": "wechat-public",
      "platform": "微信公众号",
      "url": "https://mp.weixin.qq.com/xiayeai",
      "icon": "wechat-public-icon.svg",
      "followers": 50000,
      "active": true
    },
    {
      "id": "zhihu",
      "platform": "知乎",
      "url": "https://zhihu.com/people/xiayeai",
      "icon": "zhihu-icon.svg",
      "followers": 25000,
      "active": true
    }
  ],
  "businessHours": {
    "timezone": "Asia/Shanghai",
    "weekdays": {
      "start": "09:00",
      "end": "18:00",
      "available": true
    },
    "weekends": {
      "start": "10:00",
      "end": "16:00",
      "available": false
    },
    "holidays": ["春节期间回复可能延迟"]
  },
  "responsePolicy": {
    "email": "24小时内回复",
    "wechat": "工作时间内2小时回复",
    "phone": "工作时间内即时接听",
    "form": "48小时内回复",
    "emergency": "紧急事务请电话联系"
  }
}
```

### 4.2 提交联系表单

**接口地址：** `POST /api/contact/submit`

**请求参数：**

```json
{
  "name": "张三",
  "email": "zhangsan@example.com",
  "phone": "13800138000",
  "company": "某科技公司",
  "cooperationType": "content",
  "subject": "AI内容合作咨询",
  "message": "我们希望与您合作制作一系列AI技术科普文章，请问是否有合作可能？",
  "budget": "10000-20000元",
  "timeline": "1个月内完成"
}
```

**响应数据：**

```json
{
  "success": true,
  "message": "感谢您的联系，我们会在24小时内回复您！",
  "contactId": "contact_20241219_001",
  "estimatedResponseTime": "2024-12-20T10:00:00Z"
}
```

### 4.3 获取FAQ数据

**接口地址：** `GET /api/contact/faq`

**请求参数：**

* `category` (可选): 问题分类

* `search` (可选): 搜索关键词

**响应数据：**

```json
{
  "faqData": [
    // FAQ项目数组
  ],
  "categories": ["联系方式", "合作流程", "费用相关", "技术问题"],
  "total": 15
}
```

## 5. 页面交互逻辑

### 5.1 页面加载流程

```typescript
// 页面初始化
const initContactPage = async () => {
  try {
    loading.value = true;
    
    // 并行加载页面数据
    const [contactData, faqData] = await Promise.all([
      fetchContactData(),
      fetchFAQData()
    ]);
    
    pageData.value = contactData;
    faqList.value = faqData;
    
    // 初始化表单
    initContactForm();
    
    // 设置页面SEO信息
    updatePageMeta();
    
  } catch (error) {
    handleError(error);
  } finally {
    loading.value = false;
  }
};
```

### 5.2 表单提交处理

```typescript
// 表单提交逻辑
const handleFormSubmit = async (formData: ContactFormData) => {
  try {
    // 表单验证
    const validationResult = validateForm(formData);
    if (!validationResult.valid) {
      showValidationErrors(validationResult.errors);
      return;
    }
    
    formSubmitting.value = true;
    
    // 提交表单数据
    const response = await submitContactForm(formData);
    
    if (response.success) {
      formSuccess.value = true;
      resetForm();
      showSuccessMessage(response.message);
      
      // 发送感谢邮件（可选）
      sendThankYouEmail(formData.email);
    } else {
      throw new Error(response.message);
    }
    
  } catch (error) {
    showErrorMessage('提交失败，请稍后重试');
    console.error('Form submission error:', error);
  } finally {
    formSubmitting.value = false;
  }
};

// 表单验证
const validateForm = (data: ContactFormData): ValidationResult => {
  const errors: string[] = [];
  
  if (!data.name || data.name.length < 2) {
    errors.push('请输入有效的姓名');
  }
  
  if (!data.email || !validationRules.email.pattern.test(data.email)) {
    errors.push('请输入有效的邮箱地址');
  }
  
  if (!data.message || data.message.length < 10) {
    errors.push('请输入至少10个字符的详细信息');
  }
  
  return {
    valid: errors.length === 0,
    errors
  };
};
```

### 5.3 合作类型选择

```typescript
// 合作类型选择处理
const handleCooperationTypeSelect = (typeId: string) => {
  selectedCooperationType.value = typeId;
  
  // 更新表单中的合作类型
  formData.value.cooperationType = typeId;
  
  // 滚动到表单区域
  scrollToForm();
  
  // 预填充相关信息
  prefillFormByCooperationType(typeId);
};

// 根据合作类型预填充表单
const prefillFormByCooperationType = (typeId: string) => {
  const cooperationType = cooperationTypes.value.find(type => type.id === typeId);
  if (cooperationType) {
    formData.value.subject = `${cooperationType.title}咨询`;
    
    // 根据不同类型设置不同的消息模板
    const templates = {
      content: '我希望与您合作制作相关内容，请问具体的合作方式和费用如何？',
      consulting: '我们需要AI技术咨询服务，希望了解具体的咨询流程和费用。',
      speaking: '我们希望邀请您参与我们的活动进行演讲分享，请问是否有时间？'
    };
    
    formData.value.message = templates[typeId] || '';
  }
};
```

### 5.4 FAQ搜索功能

```typescript
// FAQ搜索
const searchFAQ = (keyword: string) => {
  if (!keyword.trim()) {
    filteredFAQ.value = faqList.value;
    return;
  }
  
  filteredFAQ.value = faqList.value.filter(item => 
    item.question.toLowerCase().includes(keyword.toLowerCase()) ||
    item.answer.toLowerCase().includes(keyword.toLowerCase()) ||
    item.tags.some(tag => tag.toLowerCase().includes(keyword.toLowerCase()))
  );
};

// FAQ分类筛选
const filterFAQByCategory = (category: string) => {
  if (category === 'all') {
    filteredFAQ.value = faqList.value;
  } else {
    filteredFAQ.value = faqList.value.filter(item => item.category === category);
  }
};
```

## 6. 样式设计规范

### 6.1 整体布局

* **页面最大宽度**：1200px，居中对齐

* **区域间距**：80px

* **内容内边距**：40px

* **卡片圆角**：12px

* **阴影效果**：`box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1)`

### 6.2 联系方式卡片

* **卡片尺寸**：300px × 200px

* **图标尺寸**：48px × 48px

* **标题字体**：18px，粗体

* **描述字体**：14px，行高1.5

* **悬停效果**：轻微上移和阴影加深

### 6.3 表单设计

* **输入框高度**：48px

* **文本域高度**：120px

* **标签字体**：14px，中等粗细

* **输入框圆角**：8px

* **边框颜色**：#e2e8f0（默认），#3182ce（聚焦）

* **按钮高度**：48px，圆角8px

### 6.4 合作类型卡片

* **卡片尺寸**：350px × 400px

* **图标尺寸**：64px × 64px

* **价格标签**：突出显示，使用主题色背景

* **服务列表**：使用项目符号，行高1.6

### 6.5 FAQ设计

* **问题标题**：16px，粗体

* **答案内容**：14px，行高1.6

* **展开动画**：0.3s ease-in-out

* **分类标签**：小号字体，圆角标签样式

## 7. 响应式设计

### 7.1 桌面端（≥1200px）

* 联系方式3列网格布局

* 合作类型3列网格布局

* 表单与FAQ左右分栏

* 完整的侧边导航

### 7.2 平板端（768px-1199px）

* 联系方式2列网格布局

* 合作类型2列网格布局

* 表单与FAQ垂直堆叠

* 简化的导航菜单

### 7.3 移动端（<768px）

* 所有内容单列布局

* 联系方式卡片全宽显示

* 表单字段垂直排列

* 底部固定联系按钮

## 8. 性能优化

### 8.1 图片优化

* 使用WebP格式图片

* 实现图片懒加载

* 提供多种尺寸的响应式图片

### 8.2 表单优化

* 实时表单验证

* 防抖处理用户输入

* 表单数据本地缓存

### 8.3 加载优化

* 关键内容优先加载

* FAQ数据分页加载

* 使用骨架屏提升体验

## 9. 安全考虑

### 9.1 表单安全

* 输入内容过滤和转义

* CSRF令牌验证

* 频率限制防止垃圾信息

### 9.2 数据保护

* 敏感信息加密存储

* 遵循数据保护法规

* 用户数据使用透明化

## 10. 分析与监控

### 10.1 用户行为分析

* 表单提交转化率

* 联系方式使用偏好

* 页面停留时间分析

### 10.2 性能监控

* 页面加载时间

* 表单提交成功率

* 错误日志收集

## 11. 可访问性

### 11.1 键盘导航

* 完整的Tab键导航支持

* 清晰的焦点指示器

* 合理的Tab顺序

### 11.2 屏幕阅读器

* 完善的ARIA标签

* 表单字段关联标签

* 错误信息无障碍提示

### 11.3 视觉辅助

* 高对比度颜色方案

* 可调节的字体大小

* 清晰的视觉层次

