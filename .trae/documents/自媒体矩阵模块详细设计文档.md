# 自媒体矩阵模块详细设计文档

## 1. 模块概述

自媒体矩阵模块用于展示"夏叶的AI加油站"在各个社交平台的账号信息、粉丝数据和平台链接，帮助访客了解完整的自媒体布局。

## 2. 组件设计

### 2.1 组件结构

```
SocialMatrixPage.vue
├── PlatformGrid.vue         // 平台网格组件
├── PlatformCard.vue         // 单个平台卡片组件
├── StatsChart.vue           // 数据统计图表组件
└── PlatformModal.vue        // 平台详情弹窗组件
```

### 2.2 组件详细设计

#### PlatformGrid.vue (平台网格组件)
```typescript
// 组件功能：展示所有社交平台的网格布局
// 创建日期：2024-12-19
// 参数：platforms - 平台数据数组
// 返回值：Vue组件

interface PlatformGridProps {
  platforms: SocialPlatform[];
  loading?: boolean;
}
```

#### PlatformCard.vue (单个平台卡片组件)
```typescript
// 组件功能：展示单个社交平台的信息卡片
// 创建日期：2024-12-19
// 参数：platform - 平台数据对象
// 返回值：Vue组件

interface PlatformCardProps {
  platform: SocialPlatform;
  showStats?: boolean;
}

interface PlatformCardEmits {
  click: [platform: SocialPlatform];
  visit: [url: string];
}
```

#### StatsChart.vue (数据统计图表组件)
```typescript
// 组件功能：展示各平台粉丝数据的可视化图表
// 创建日期：2024-12-19
// 参数：chartData - 图表数据
// 返回值：Vue组件

interface StatsChartProps {
  chartData: PlatformStatsData[];
  chartType?: 'bar' | 'pie' | 'line';
}
```

## 3. 数据结构

### 3.1 社交平台数据结构

```typescript
// 社交平台信息接口
interface SocialPlatform {
  id: string;                  // 平台ID
  platformName: string;        // 平台名称
  platformUrl: string;         // 平台链接
  username: string;            // 用户名
  followersCount: number;      // 粉丝数
  avatarUrl: string;           // 头像URL
  description?: string;        // 平台描述
  isActive: boolean;           // 是否活跃
  lastUpdated: string;         // 最后更新时间
  platformIcon: string;        // 平台图标
  platformColor: string;       // 平台主题色
}
```

### 3.2 统计数据结构

```typescript
// 平台统计数据接口
interface PlatformStatsData {
  platformName: string;
  followersCount: number;
  growthRate: number;          // 增长率
  engagementRate: number;      // 互动率
  postsCount: number;          // 发布内容数
}

// 页面状态管理
interface SocialMatrixState {
  platforms: SocialPlatform[];
  statsData: PlatformStatsData[];
  selectedPlatform: SocialPlatform | null;
  loading: boolean;
  error: string | null;
}
```

## 4. API接口设计

### 4.1 获取社交平台列表

**接口地址：** `GET /api/social-platforms`

**请求参数：** 无

**响应数据：**
```json
{
  "platforms": [
    {
      "id": "weibo",
      "platformName": "微博",
      "platformUrl": "https://weibo.com/xiayeai",
      "username": "夏叶的AI加油站",
      "followersCount": 25000,
      "avatarUrl": "https://example.com/avatar.jpg",
      "description": "AI技术分享与实践",
      "isActive": true,
      "lastUpdated": "2024-12-18T10:00:00Z",
      "platformIcon": "weibo-icon.svg",
      "platformColor": "#e6162d"
    },
    {
      "id": "douyin",
      "platformName": "抖音",
      "platformUrl": "https://www.douyin.com/user/xiayeai",
      "username": "夏叶的AI加油站",
      "followersCount": 15000,
      "avatarUrl": "https://example.com/avatar.jpg",
      "description": "AI知识短视频",
      "isActive": true,
      "lastUpdated": "2024-12-18T10:00:00Z",
      "platformIcon": "douyin-icon.svg",
      "platformColor": "#000000"
    }
  ]
}
```

### 4.2 获取平台统计数据

**接口地址：** `GET /api/social-platforms/stats`

**请求参数：** 无

**响应数据：**
```json
{
  "stats": [
    {
      "platformName": "微博",
      "followersCount": 25000,
      "growthRate": 5.2,
      "engagementRate": 3.8,
      "postsCount": 150
    },
    {
      "platformName": "抖音",
      "followersCount": 15000,
      "growthRate": 8.5,
      "engagementRate": 6.2,
      "postsCount": 80
    }
  ]
}
```

### 4.3 更新平台信息

**接口地址：** `PUT /api/social-platforms/:id`

**请求参数：**
```json
{
  "followersCount": 26000,
  "description": "更新后的描述",
  "isActive": true
}
```

**响应数据：**
```json
{
  "success": true,
  "message": "平台信息更新成功",
  "platform": {
    // 更新后的平台信息
  }
}
```

## 5. 页面交互逻辑

### 5.1 页面加载流程

1. 组件挂载时调用 `fetchPlatforms()` 和 `fetchStats()` 方法
2. 并行加载平台列表和统计数据
3. 数据加载完成后渲染平台网格
4. 初始化图表组件

### 5.2 用户交互

- **平台卡片点击**：显示平台详情弹窗
- **访问平台按钮**：新窗口打开对应平台链接
- **统计图表交互**：支持图表类型切换和数据筛选
- **刷新数据**：手动刷新最新的粉丝数据

### 5.3 事件处理

```typescript
// 平台卡片点击事件
const handlePlatformClick = (platform: SocialPlatform) => {
  selectedPlatform.value = platform;
  showModal.value = true;
};

// 访问平台事件
const handleVisitPlatform = (url: string) => {
  window.open(url, '_blank');
};

// 数据刷新事件
const handleRefreshData = async () => {
  loading.value = true;
  try {
    await Promise.all([
      fetchPlatforms(),
      fetchStats()
    ]);
  } finally {
    loading.value = false;
  }
};
```

## 6. 样式设计规范

### 6.1 布局规范

- **平台网格**：2x3网格布局，响应式适配
- **卡片间距**：24px
- **卡片圆角**：12px
- **阴影效果**：`box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1)`

### 6.2 平台卡片设计

- **卡片尺寸**：320px × 200px（桌面端）
- **平台图标**：48px × 48px
- **粉丝数字体**：24px，粗体
- **平台名称**：18px，中等粗细
- **描述文字**：14px，常规

### 6.3 状态样式

- **活跃状态**：绿色指示点
- **非活跃状态**：灰色指示点
- **悬停效果**：卡片上移2px，阴影加深
- **加载状态**：骨架屏动画

## 7. 响应式设计

### 7.1 断点适配

- **桌面端（≥1200px）**：3列网格布局
- **平板端（768px-1199px）**：2列网格布局
- **移动端（<768px）**：单列布局

### 7.2 移动端优化

- 卡片尺寸调整为全宽
- 图标和文字尺寸适当缩小
- 触摸友好的按钮尺寸（最小44px）
- 简化统计图表显示

## 8. 数据更新策略

### 8.1 自动更新

- 每日自动同步一次平台数据
- 实时更新粉丝数变化
- 缓存策略：平台基础信息缓存1小时，统计数据缓存30分钟

### 8.2 手动更新

- 管理员可手动触发数据同步
- 支持单个平台数据更新
- 批量更新所有平台数据

## 9. 错误处理

### 9.1 网络错误

- 显示友好的错误提示
- 提供重试按钮
- 降级显示缓存数据

### 9.2 数据异常

- 验证数据完整性
- 异常数据标记和提示
- 默认值填充缺失数据